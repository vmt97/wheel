{"version":3,"sources":["wheel.js"],"names":["cc","Class","extends","Component","properties","wheel","Node","winPopup","labelWin","Label","labelChosen","btnWin","btnRandomWin","radioButton","Toggle","onLoad","textWin","textChosenWin","textRandomWin","sectorAngles","listUser","totalCircle","finalAngle","sector","index","start","startWheel","isWheel","radomInteger","length","runAction","sequence","rotateTo","easing","easeQuinticActionInOut","callFunc","showWinPopup","idx","string","active","hideWinPopup","setRandomWin","updateLabelChoiceWin","radioButtonClicked","toggle","clickedIndex","indexOf","min","max","Math","ceil","floor","random","degrees_to_radians","degrees","pi","PI"],"mappings":"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","file":"wheel.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        wheel:cc.Node,\n        winPopup:cc.Node,\n        labelWin:cc.Label,\n        labelChosen:cc.Label,\n        btnWin: cc.Node,\n        btnRandomWin: cc.Node,\n        radioButton: [cc.Toggle]\n    },\n\n    onLoad () {\n        this.textWin = \"Chúc mừng người thắng là: \";\n        this.textChosenWin = \"Bạn chọn người thắng là: \";\n        this.textRandomWin = \"Ngẫu Nhiên\";\n        this.sectorAngles = [30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 360];\n        this.listUser = [1,2,3,4,5,6,7,8,9,10,11,12];\n        this.totalCircle = 15;\n        this.finalAngle = 0;\n        this.sector = 0;\n        this.index = -1;\n    },\n\n    start () {\n\n    },\n\n    startWheel(){\n        this.isWheel = true;\n        this.index == -1 ? this.index = this.radomInteger(0,this.sectorAngles.length): this.index;\n        this.sector = (this.sectorAngles[this.index]);\n        this.finalAngle = this.totalCircle * 360 + this.sector;\n\n        this.wheel.runAction(\n            cc.sequence(\n                cc.rotateTo(5,this.finalAngle).easing(cc.easeQuinticActionInOut()),\n                cc.callFunc(()=>{\n                    this.showWinPopup(this.index);\n                })\n            )\n        );\n    },\n\n    showWinPopup(idx){\n        this.labelWin.string = this.textWin+\"\"+ this.listUser[idx];\n        this.winPopup.active = true;\n    },\n\n    hideWinPopup(){\n        this.winPopup.active = false;\n    },\n\n    setRandomWin(){\n        this.index = -1;\n        this.updateLabelChoiceWin(-1);\n    },\n\n    radioButtonClicked(toggle) {\n        var clickedIndex = this.radioButton.indexOf(toggle);\n        this.index = clickedIndex;\n        this.updateLabelChoiceWin(this.index);\n    },\n\n    updateLabelChoiceWin(idx){\n        if (idx > -1)\n            this.labelChosen.string = this.textChosenWin + \"\" + this.listUser[idx];\n        else {\n            this.labelChosen.string = this.textChosenWin + \"\"+ this.textRandomWin;\n        }\n    },\n\n    radomInteger(min, max) {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min) + min);\n    },\n\n    degrees_to_radians(degrees) {\n        var pi = Math.PI;\n        return degrees * (pi / 180);\n    }\n});\n"]}